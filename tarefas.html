<!DOCTYPE html>
<!-- In√≠cio do documento HTML -->
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <!-- Meta para responsividade em dispositivos m√≥veis -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tarefas EcoWorld - Incentivo Animado e Certificado</title>

  <!-- In√≠cio do CSS -->
  <style>
    /* Estilos gerais da p√°gina */
    body {
      font-family: 'Poppins', sans-serif; /* Fonte moderna e limpa */
      background: linear-gradient(to bottom right, #0a3e6e, #1b4f8a); /* Fundo azul degrad√™ */
      color: #dbefff; /* Cor do texto clara azul */
      padding: 2rem;
      max-width: 700px; /* Limita a largura m√°xima para leitura confort√°vel */
      margin: auto; /* Centraliza horizontalmente */
    }

    /* T√≠tulo principal */
    h1 {
      text-align: center;
      color: #68b0ff; /* Azul claro */
    }

    /* Estilo do campo de input para o nome */
    input {
      display: block;
      margin: 1rem auto 2rem; /* Espa√ßamento vertical */
      padding: 0.6rem;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      width: 100%;
      max-width: 400px; /* Largura m√°xima para o input */
    }

    /* Cada tarefa */
    .task {
      background: rgba(10, 30, 60, 0.85); /* Fundo azul escuro semitransparente */
      margin: 0.7rem 0;
      padding: 1rem;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      cursor: pointer; /* Indica que pode ser clicado */
      transition: background-color 0.3s ease;
      user-select: none; /* Evita sele√ß√£o de texto ao clicar */
    }

    /* Estilo da tarefa quando conclu√≠da */
    .task.completed {
      background-color: #2a66d9; /* Azul forte */
      box-shadow: 0 0 12px #6495ed; /* Brilho azul */
      color: #e1eaff; /* Texto claro */
    }

    /* Cabe√ßalho dentro de cada tarefa (checkbox + texto + pontos) */
    .task-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    /* Estilo do contador de pontos em cada tarefa */
    .points {
      background-color: #254a8a; /* Azul m√©dio */
      padding: 0.3rem 0.8rem;
      border-radius: 8px;
      font-weight: 700;
      color: #a6c8ff; /* Azul claro */
      min-width: 45px;
      text-align: center;
      user-select: none;
    }

    /* Texto do incentivo que aparece ao completar a tarefa */
    .incentive {
      margin-top: 0.5rem;
      font-style: italic;
      font-size: 0.9rem;
      color: #c7dbff; /* Azul bem claro */
      opacity: 0; /* Inicialmente invis√≠vel */
      max-height: 0; /* Para esconder o conte√∫do */
      overflow: hidden;
      transition: opacity 0.5s ease, max-height 0.5s ease; /* Anima√ß√£o suave */
    }

    /* Classe para mostrar o incentivo */
    .incentive.show {
      opacity: 1;
      max-height: 50px;
    }

    /* Exibi√ß√£o da pontua√ß√£o total */
    #totalPoints {
      font-size: 1.4rem;
      font-weight: 700;
      margin-top: 1.5rem;
      text-align: center;
      color: #68b0ff; /* Azul claro */
    }

    /* Bot√£o para gerar o certificado */
    #generateCertBtn {
      display: none; /* Inicialmente escondido */
      margin: 2rem auto 0;
      padding: 0.8rem 2rem;
      background-color: #2a66d9; /* Azul forte */
      border: none;
      color: #e6f0ff; /* Azul claro */
      font-size: 1.2rem;
      border-radius: 15px;
      cursor: pointer;
      box-shadow: 0 0 10px #6495ed; /* Brilho azul */
      transition: background-color 0.3s ease;
      display: block;
    }
    /* Efeito hover no bot√£o */
    #generateCertBtn:hover {
      background-color: #3b7ee6; /* Azul mais claro no hover */
    }
  </style>
  <!-- Fim do CSS -->
</head>
<body>

  <!-- T√≠tulo da p√°gina -->
  <h1>Tarefas Sustent√°veis EcoWorld</h1>

  <!-- Campo para o usu√°rio digitar o nome que ir√° no certificado -->
  <input type="text" id="userName" placeholder="Digite seu nome para o certificado" />

  <!-- Container onde as tarefas ser√£o inseridas via JavaScript -->
  <div id="tasksContainer"></div>

  <!-- Exibe a pontua√ß√£o total do usu√°rio -->
  <div id="totalPoints">Pontua√ß√£o Total: 0</div>

  <!-- Bot√£o para gerar o certificado (aparece s√≥ quando todas as tarefas s√£o completadas) -->
  <button id="generateCertBtn">üéì Gerar Certificado</button>

  <!-- Biblioteca jsPDF para gerar PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- In√≠cio do JavaScript -->
  <script>
    // Lista com as tarefas, pontos e incentivos para cada uma
    const tasksData = [
      { text: 'Separar o lixo recicl√°vel em casa', points: 5, incentive: '√ìtimo! Cada a√ß√£o conta para um planeta mais limpo.' },
      { text: 'Economizar √°gua ao escovar os dentes', points: 3, incentive: 'Excelente! √Ågua √© vida, parab√©ns por economizar.' },
      { text: 'Plantar uma √°rvore ou cuidar de plantas', points: 10, incentive: 'Sensacional! Voc√™ ajuda o pulm√£o do mundo.' },
      { text: 'Usar sacolas reutiliz√°veis ao fazer compras', points: 4, incentive: 'Muito bom! Reduzir pl√°stico √© urgente.' },
      { text: 'Desligar luzes ao sair de um c√¥modo', points: 2, incentive: 'Pequenos h√°bitos geram grandes impactos!' },
      { text: 'Evitar desperd√≠cio de alimentos', points: 3, incentive: 'Parab√©ns! Aproveitar alimentos √© cuidar do planeta.' },
      { text: 'Andar mais a p√© ou de bicicleta', points: 6, incentive: 'Saud√°vel para voc√™ e para o meio ambiente!' },
      { text: 'Desligar aparelhos eletr√¥nicos da tomada', points: 3, incentive: 'Economia de energia, √≥timo para a conta e o planeta!' },
      { text: 'Participar de mutir√µes de limpeza', points: 8, incentive: 'Voc√™ faz a diferen√ßa na sua comunidade!' },
      { text: 'Utilizar transporte p√∫blico sempre que poss√≠vel', points: 7, incentive: 'Menos carros, menos polui√ß√£o. Parab√©ns!' }
    ];

    // Refer√™ncias para elementos importantes na p√°gina
    const tasksContainer = document.getElementById('tasksContainer');
    const totalPointsEl = document.getElementById('totalPoints');
    const generateCertBtn = document.getElementById('generateCertBtn');

    // Para cada tarefa da lista, criamos elementos HTML dinamicamente
    tasksData.forEach((task, idx) => {
      // Div que envolve a tarefa toda
      const div = document.createElement('div');
      div.classList.add('task');
      div.dataset.points = task.points; // Armazena os pontos como atributo data

      // Div para o cabe√ßalho com checkbox, texto e pontos
      const headerDiv = document.createElement('div');
      headerDiv.classList.add('task-header');

      // Label para o texto e checkbox
      const label = document.createElement('label');
      label.style.flex = '1'; // Para ocupar o m√°ximo poss√≠vel no flex
      label.style.cursor = 'pointer';

      // Checkbox para marcar a tarefa como conclu√≠da
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.style.marginRight = '1rem';

      // Coloca o checkbox e o texto dentro do label (clicar no texto tamb√©m marca)
      label.appendChild(checkbox);
      label.appendChild(document.createTextNode(task.text));

      // Span para mostrar os pontos da tarefa
      const pointsSpan = document.createElement('span');
      pointsSpan.className = 'points';
      pointsSpan.textContent = `+${task.points}`;

      // Monta o header com label e pontos
      headerDiv.appendChild(label);
      headerDiv.appendChild(pointsSpan);

      // Adiciona o header na div da tarefa
      div.appendChild(headerDiv);

      // Div para mostrar o incentivo animado quando a tarefa √© conclu√≠da
      const incentiveDiv = document.createElement('div');
      incentiveDiv.classList.add('incentive');
      incentiveDiv.textContent = task.incentive;
      div.appendChild(incentiveDiv);

      // Adiciona a tarefa pronta no container principal
      tasksContainer.appendChild(div);

      // Evento ao clicar no checkbox para marcar/desmarcar tarefa
      checkbox.addEventListener('change', () => {
        if (checkbox.checked) {
          // Marca a tarefa visualmente como conclu√≠da
          div.classList.add('completed');
          // Mostra o incentivo animado
          incentiveDiv.classList.add('show');
        } else {
          // Remove estilos e incentivo ao desmarcar
          div.classList.remove('completed');
          incentiveDiv.classList.remove('show');
        }
        // Atualiza a pontua√ß√£o total
        updatePoints();
      });
    });

    // Fun√ß√£o para atualizar o total de pontos e mostrar/esconder bot√£o de certificado
    function updatePoints() {
      // Seleciona todas as tarefas marcadas como conclu√≠das
      const checked = document.querySelectorAll('.task.completed');
      let total = 0;
      // Soma os pontos de cada tarefa marcada
      checked.forEach(t => total += Number(t.dataset.points));
      // Atualiza o texto da pontua√ß√£o total
      totalPointsEl.textContent = `Pontua√ß√£o Total: ${total}`;

      // Se todas as tarefas estiverem conclu√≠das, mostra o bot√£o de gerar certificado
      generateCertBtn.style.display = checked.length === tasksData.length ? 'block' : 'none';
    }

    // Evento para gerar o certificado ao clicar no bot√£o
    generateCertBtn.addEventListener('click', () => {
      // Pega o nome digitado pelo usu√°rio
      const name = document.getElementById('userName').value.trim();
      if (!name) {
        alert("Digite seu nome para gerar o certificado."); // Valida√ß√£o simples
        return;
      }

      // In√≠cio da gera√ß√£o do PDF usando jsPDF

      // Cria uma nova inst√¢ncia do jsPDF
      // Obt√©m o objeto jsPDF da biblioteca carregada no script externo
      const { jsPDF } = window.jspdf;
       // Cria uma nova inst√¢ncia do documento PDF
      const doc = new jsPDF();

      // Define fonte, tamanho e cor do texto para o t√≠tulo do certificado
      doc.setFont('helvetica', 'bold');
      doc.setFontSize(24);
      doc.setTextColor('#1b4f8a'); // Azul escuro para o t√≠tulo
      doc.text('Certificado de Conclus√£o', 105, 40, null, null, 'center');

      // Texto fixo do certificado
      doc.setFontSize(16);
      doc.setTextColor('#254a8a');
      doc.text('Certificamos que', 105, 60, null, null, 'center');

      // Nome do usu√°rio destacado
      doc.setFontSize(20);
      doc.setTextColor('#2a66d9');
      doc.text(name, 105, 75, null, null, 'center');

      // Texto adicional do certificado
      doc.setFontSize(14);
      doc.setTextColor('#0a3e6e');
      doc.text('concluiu todas as tarefas sustent√°veis da EcoWorld', 105, 90, null, null, 'center');
      doc.text('demonstrando compromisso com o meio ambiente.', 105, 100, null, null, 'center');

      // Data atual formatada para pt-BR
      doc.setFontSize(12);
      const date = new Date().toLocaleDateString('pt-BR');
      doc.text(`Data: ${date}`, 105, 120, null, null, 'center');

      // Assinatura fict√≠cia da equipe EcoWorld no rodap√©
      doc.setFont('helvetica', 'italic');
      doc.setFontSize(14);
      doc.setTextColor('#2a66d9');
      doc.text('Assinado por: Equipe EcoWorld', 105, 140, null, null, 'center');

      // Salva o arquivo PDF com o nome formatado (substituindo espa√ßos por underline)
      doc.save(`Certificado_EcoWorld_${name.replaceAll(' ', '_')}.pdf`);

      // Fim da gera√ß√£o do PDF
    });
  </script>
  <!-- Fim do JavaScript -->

  <!-- Integra√ß√£o do VLibras Widget -->
  <!-- In√≠cio da integra√ß√£o do VLibras -->
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
  </script>
  <!-- Fim da integra√ß√£o do VLibras -->
</body>
</html>
<!-- Fim do documento HTML -->
